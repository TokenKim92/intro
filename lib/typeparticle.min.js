/*! For license information please see typeparticle.min.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.TypeParticle=e():t.TypeParticle=e()}(self,(()=>(()=>{"use strict";var t={d:(e,i)=>{for(var s in i)t.o(i,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:i[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};t.d(e,{default:()=>u});class i{#t;#e;#i;#s;#a;#r=100;constructor(t,e,i,s){this.#t=t.x,this.#e=t.y,this.#i=e.x,this.#s=e.y,this.#a=s,this.alpha=i,this.reset()}reset(){this.x=this.#i,this.y=this.#s}update(){this.x+=(this.#t-this.x)*this.#a,this.y+=(this.#e-this.y)*this.#a}get isDone(){return Math.round(this.x*this.#r)===Math.round(this.#t*this.#r)&&Math.round(this.y*this.#r)===Math.round(this.#e*this.#r)}}const s=Object.freeze({string:"string",number:"number",boolean:"boolean",undefined:"undefined",null:"null"}),a=(t,e)=>{if(typeof t!==s[e])throw new Error(`This parameter type should be the ${s[e]}.`)},r="The color type should be 'rgb' or 'hex' like 'rgb(0, 0, 0)' or '#000000'.",h=t=>{if(typeof t!==s.string)throw new Error(r);const e=n(t.toLowerCase());if(3!==e.length&&4!==e.length||e.includes(NaN))throw new Error(r);return e.forEach((t=>{if(t>255||t<0)throw new Error(r)})),{r:e[0],g:e[1],b:e[2],a:void 0===e[3]?1:e[3]}},n=t=>{if(t.includes("rgb")){const e=t.indexOf("("),i=t.indexOf(")");return t.substring(e+1,i).split(", ").map((t=>parseFloat(t)))}if(t.includes("#"))return t.slice(1,t.length).match(/.{1,2}/g).map((t=>parseFloat(t,16)));throw new Error(r)},o=t=>{const e=t.split(" ").map((t=>parseInt(t)));switch(e.length){case 1:return{top:e[0],right:e[0],bottom:e[0],left:e[0]};case 2:return{top:e[0],right:e[1],bottom:e[0],left:e[1]};case 3:return{top:e[0],right:e[1],bottom:e[2],left:0};case 4:return{top:e[0],right:e[1],bottom:e[2],left:e[3]}}},l=t=>o(t),c=t=>o(t);class d{static FPS=60;static OPACITY_TRANSITION_TIME=300;#h;#n;#o;#l=void 0;#c;#d;#u;#g;#p;#x=[];#m;#f;#y;#S;#w;#b=!1;#T=!1;#C;constructor(t,e=10,i="all-side"){this.#v(t,e,i),this.#g=this.#u.innerText,this.#S=window.getComputedStyle(this.#u),this.#w=h(this.#S.color),this.#C={speed:e>100?100:e,mode:this.#P(i),alpha:this.#w.a},this.#E(),setTimeout((()=>this.#z()),1.1*d.OPACITY_TRANSITION_TIME),window.addEventListener("resize",this.#M)}start=()=>{this.#T?this.#b||(this.#b=!0,requestAnimationFrame(this.#I)):setTimeout((()=>this.start()),d.OPACITY_TRANSITION_TIME)};stop=()=>{this.#b&&(this.#b=!1)};restart=()=>{this.#T?(this.#x.forEach((t=>t.reset())),this.#b||(this.#b=!0,requestAnimationFrame(this.#I))):setTimeout((()=>this.start()),TypeFill.OPACITY_TRANSITION_TIME)};#v(t,e,i){if(a(t,s.string),a(e,s.number),a(i,s.string),this.#u=document.querySelector(`#${t}`),!this.#u)throw new Error("This element id doesn't exit.");if(e<=0)throw new Error("'spreadSpeed' should be greater then 0.");e>100&&console.warn("The max speed for 'spreadSpeed' is 100.")}#E=()=>{this.#d=document.createElement("div"),this.#u.parentElement.insertBefore(this.#d,this.#u),this.#d.append(this.#u),this.#d.style.position="relative",this.#u.style.transition=`opacity ${d.OPACITY_TRANSITION_TIME}ms ease-out`,setTimeout((()=>{this.#u.style.opacity=0}),1)};#k=()=>{const t=l(this.#S.padding),e=c(this.#S.margin),i=0!==h(this.#S.backgroundColor).a;this.#y=this.#O(this.#u),(()=>{this.#h=document.createElement("div"),this.#h.style.transform="inline"!==this.#S.display?this.#S.transform:"matrix(1, 0, 0, 1, 0, 0)",this.#h.style.top=`-${this.#y.height+e.top+e.bottom}px`,this.#h.style.position="relative"})(),i&&((()=>{this.#l=document.createElement("canvas"),this.#c=this.#l.getContext("2d"),this.#l.style.cssText=`\n        left: ${e.left}px;\n        top: ${e.top}px;\n      `,this.#B(),this.#l.style.position="absolute"})(),this.#h.append(this.#l)),(()=>{this.#n=document.createElement("canvas"),this.#o=this.#n.getContext("2d",{willReadFrequently:!0}),this.#n.style.position="absolute",this.#n.style.top=`${t.top+e.top}px`})(),this.#h.append(this.#n),this.#d.append(this.#h),this.#D(t,e)};#z=()=>{this.#k(),this.#p=new class{#o;#S;#g;#L;#A;#j;#F;#R=[];constructor(t,e,i,s){this.#o=t,this.#S=e,this.#g=i,this.#A=s.speed/100,this.#j=this.#$(s.mode),this.#F=s.alpha}getParticles=t=>{this.#L=[],this.#R=[],this.#o.save(),this.#o.font=`${this.#S.fontWeight} ${this.#S.fontSize} ${this.#S.fontFamily}`,this.#o.fillStyle=`rgba(255, 255, 255, ${this.#F})`,this.#o.textBaseline="middle";const e=[];if(1===this.#N(t))this.#Y(t,this.#g),this.#_(this.#g).forEach((t=>e.push(t))),this.#R.push(e.length);else{const i=this.#H(t);let s,a=0;i.forEach(((i,r)=>{this.#Y(t,i,r),this.#_(i,r).forEach((t=>e.push(t))),s=e.length,this.#R.push(s-a),a=s}))}const i=this.#X(t,e);return this.#o.clearRect(0,0,t.width,t.height),this.#o.restore(),i};#H=t=>{const e=[];return this.#g.split("\n").forEach((i=>{const s=i.split(" ");let a="",r=!1,h=!1;s.forEach(((i,n)=>{r=this.#o.measureText(a+i).width>t.width,h=n===s.length-1,r?(e.push(a.trimEnd()),h?e.push(i):a=i+" "):h?e.push(a+i):a=a+i+" "}))})),e};#Y=(t,e,i=0)=>{const s=this.#o.measureText(e),a=this.#G(t,s,i);this.#L.push(a),this.#o.fillText(e,a.x,a.y)};#_=(t,e=0)=>{const i=[],s=[],a=this.#L[e];let r,h,n,o,l,c="";for(let e=0;e<t.length;e++)r=t[e],h=this.#o.measureText(r)," "!==r?(o=this.#o.measureText(c+r).width-this.#o.measureText(c).width,l=o!==h.width?h.width-o:0,n={x:0===e?Math.round(a.x-h.actualBoundingBoxLeft):Math.round(s.reduce(((t,e)=>t+e),a.x)-h.actualBoundingBoxLeft-l),y:Math.round(a.y-h.actualBoundingBoxAscent-1),width:Math.round(h.actualBoundingBoxLeft+h.actualBoundingBoxRight),height:Math.round(h.actualBoundingBoxAscent+h.actualBoundingBoxDescent+2)},s.push(o),i.push(n),c=r):s.push(h.width);return i};#X=(t,e)=>{const s=[],a=this.#o.getImageData(0,0,t.width,t.height),r=this.#q(t),h={x:t.x,y:t.y,width:t.width,height:r};let n=0,o=0;return e.forEach(((e,l)=>{n<Math.floor(l/this.#R[n])&&(n++,h.y=t.y+r*n);for(let r=e.y;r<e.y+e.height;r++)for(let n=e.x;n<e.x+e.width;n++)o=a.data[4*(n+r*t.width)+3],o&&s.push(new i({x:n,y:r},this.#j(n,r,h),o,this.#A))})),s};#G=(t,e,i)=>({x:(()=>{switch(this.#S.textAlign){case"end":return Math.round(t.width-e.width);case"center":return Math.round((t.width-e.width)/2);case"justify":console.warn("'justify' option doesn't work.");default:return 0}})(),y:(i=>{const s=this.#q(t),a=(s+e.actualBoundingBoxAscent-e.actualBoundingBoxDescent)/2;return Math.round(a+s*i)})(i)});#q=t=>{if("normal"!==this.#S.lineHeight)return parseInt(this.#S.lineHeight);const e=1.2*parseInt(this.#S.fontSize),i=Math.round(t.height/e);return t.height/i};#N=t=>Math.round(t.height/this.#q(t));#$(t){switch(t){case 0:return(t,e,i)=>({x:Math.random()*i.width+i.x,y:e});case 1:return(t,e,i)=>({x:t,y:Math.random()*i.height+i.y});case 2:return(t,e,i)=>({x:0,y:Math.random()*i.height+i.y});case 3:return(t,e,i)=>({x:Math.random()*i.width+i.x,y:0});case 4:return(t,e,i)=>({x:i.width+i.x,y:Math.random()*i.height+i.y});case 5:return(t,e,i)=>({x:Math.random()*i.width+i.x,y:i.height+i.y});default:return(t,e,i)=>({x:Math.random()*i.width+i.x,y:Math.random()*i.height+i.y})}}}(this.#o,this.#S,this.#g,this.#C);const t={x:0,y:0,width:this.#f.width,height:this.#f.height};this.#x=this.#p.getParticles(t),this.#o.fillStyle=this.#S.color,this.#T=!0};#M=()=>{const t=this.#O(this.#u),e=t.height!==this.#y.height,i=t.width-this.#y.width;if(this.#y=t,this.#l&&this.#B(),!e){const t="center"===this.#S.textAlign?i/2:i;if("end"===this.#S.textAlign||"center"===this.#S.textAlign){const e=parseInt(this.#n.style.left);this.#n.style.left=`${e+t}px`}return}const s=l(this.#S.padding),a=c(this.#S.margin);this.#h.style.top=`-${t.height+a.top+a.bottom}px`,this.#D(s,a);const r={x:0,y:0,width:this.#f.width,height:this.#f.height};this.#x=this.#p.getParticles(r),this.restart()};#D=(t,e)=>{this.#n.style.left=`${t.left+e.left}px`,this.#f=this.#O(this.#u,t.left+t.right,t.top+t.bottom),this.#n.width=this.#f.width,this.#n.height=this.#f.height,this.#m=this.#o.getImageData(0,0,this.#f.width,this.#f.height)};#B=()=>{this.#l.width=this.#y.width,this.#l.height=this.#y.height,this.#c.fillStyle=this.#S.backgroundColor,this.#c.fillRect(0,0,this.#y.width,this.#y.height)};#I=()=>{!this.#W&&this.#b?(this.#J(),requestAnimationFrame(this.#I)):this.#b=!1};#J=()=>{this.#K(),this.#x.forEach((t=>{t.update();const e=Math.round(t.x)+Math.round(t.y)*this.#f.width;this.#m.data[4*e]=this.#w.r,this.#m.data[4*e+1]=this.#w.g,this.#m.data[4*e+2]=this.#w.b,this.#m.data[4*e+3]=t.alpha})),this.#o.putImageData(this.#m,0,0)};#O=(t,e=0,i=0)=>({width:Math.round(t.offsetWidth-e),height:Math.round(t.offsetHeight-i)});get#W(){return this.#x[0].isDone}#K=()=>{for(let t=0;t<this.#m.data.length;t++)this.#m.data[t]=0};#P=t=>{switch(t){case"horizontal":return 0;case"vertical":return 1;case"left":return 2;case"top":return 3;case"right":return 4;case"bottom":return 5;case"all-side":return 6;default:return console.warn("Since this spread mode is not valid, 'all-side' is used as the default."),6}}}const u=d;return e.default})()));